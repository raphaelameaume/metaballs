!function n(e,t,i){function r(c,a){if(!t[c]){if(!e[c]){var s="function"==typeof require&&require;if(!a&&s)return s(c,!0);if(o)return o(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var u=t[c]={exports:{}};e[c][0].call(u.exports,function(n){var t=e[c][1][n];return r(t?t:n)},u,u.exports,n,e,t,i)}return t[c].exports}for(var o="function"==typeof require&&require,c=0;c<i.length;c++)r(i[c]);return r}({1:[function(n,e,t){e.exports=function(n){"string"==typeof n&&(n=[n]);for(var e=[].slice.call(arguments,1),t=[],i=0;i<n.length-1;i++)t.push(n[i],e[i]||"");return t.push(n[i]),t.join("")}},{}],2:[function(n,e,t){(function(n){(function(){var t,i,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof n&&null!==n&&n.hrtime?(e.exports=function(){return(t()-r)/1e6},i=n.hrtime,t=function(){var n;return n=i(),1e9*n[0]+n[1]},r=t()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,n("_process"))},{_process:3}],3:[function(n,e,t){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(n){if(g===setTimeout)return setTimeout(n,0);if((g===i||!g)&&setTimeout)return g=setTimeout,setTimeout(n,0);try{return g(n,0)}catch(e){try{return g.call(null,n,0)}catch(e){return g.call(this,n,0)}}}function c(n){if(l===clearTimeout)return clearTimeout(n);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(n);try{return l(n)}catch(e){try{return l.call(null,n)}catch(e){return l.call(this,n)}}}function a(){d&&w&&(d=!1,w.length?y=w.concat(y):h=-1,y.length&&s())}function s(){if(!d){var n=o(a);d=!0;for(var e=y.length;e;){for(w=y,y=[];++h<e;)w&&w[h].run();h=-1,e=y.length}w=null,d=!1,c(n)}}function f(n,e){this.fun=n,this.array=e}function u(){}var g,l,v=e.exports={};!function(){try{g="function"==typeof setTimeout?setTimeout:i}catch(n){g=i}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(n){l=r}}();var w,y=[],d=!1,h=-1;v.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];y.push(new f(n,e)),1!==y.length||d||o(s)},f.prototype.run=function(){this.fun.apply(null,this.array)},v.title="browser",v.browser=!0,v.env={},v.argv=[],v.version="",v.versions={},v.on=u,v.addListener=u,v.once=u,v.off=u,v.removeListener=u,v.removeAllListeners=u,v.emit=u,v.binding=function(n){throw new Error("process.binding is not supported")},v.cwd=function(){return"/"},v.chdir=function(n){throw new Error("process.chdir is not supported")},v.umask=function(){return 0}},{}],4:[function(n,e,t){(function(t){for(var i=n("performance-now"),r="undefined"==typeof window?t:window,o=["moz","webkit"],c="AnimationFrame",a=r["request"+c],s=r["cancel"+c]||r["cancelRequest"+c],f=0;!a&&f<o.length;f++)a=r[o[f]+"Request"+c],s=r[o[f]+"Cancel"+c]||r[o[f]+"CancelRequest"+c];if(!a||!s){var u=0,g=0,l=[],v=1e3/60;a=function(n){if(0===l.length){var e=i(),t=Math.max(0,v-(e-u));u=t+e,setTimeout(function(){var n=l.slice(0);l.length=0;for(var e=0;e<n.length;e++)if(!n[e].cancelled)try{n[e].callback(u)}catch(t){setTimeout(function(){throw t},0)}},Math.round(t))}return l.push({handle:++g,callback:n,cancelled:!1}),g},s=function(n){for(var e=0;e<l.length;e++)l[e].handle===n&&(l[e].cancelled=!0)}}e.exports=function(n){return a.call(r,n)},e.exports.cancel=function(){s.apply(r,arguments)},e.exports.polyfill=function(){r.requestAnimationFrame=a,r.cancelAnimationFrame=s}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":2}],5:[function(n,e,t){"use strict";function i(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function r(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function o(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function n(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),a=function(n){function e(n,t){i(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));o.position.x=Math.floor(Math.random()*window.innerWidth),o.position.y=Math.floor(Math.random()*window.innerHeight),o.velocity=new THREE.Vector3(Math.random(),Math.random(),0);var c=Math.floor(3*Math.random())+2;return o.velocity.multiplyScalar(c),o.radius=Math.floor(40*Math.random())+30,o}return o(e,n),c(e,[{key:"update",value:function(n){this.position.add(this.velocity),(this.position.x<0||this.position.x>window.innerWidth)&&(this.velocity.x*=-1),(this.position.y<0||this.position.y>window.innerHeight)&&(this.velocity.y*=-1);var e=.05*Math.sin(n);this.radius+=e}}]),e}(THREE.Object3D);t["default"]=a},{}],6:[function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}function r(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function n(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),c=n("raf"),a=i(c),s=n("./Blob"),f=i(s),u=n("glslify"),g=function(){function n(){r(this,n),this.backgroundColor=0,this.resize=this.resize.bind(this),this.update=this.update.bind(this),this.init(),this.bindListeners()}return o(n,[{key:"init",value:function(){var n=document.getElementById("canvas");this.renderer=new THREE.WebGLRenderer({canvas:n,antialias:!0,alpha:!1}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setClearColor(this.backgroundColor),this.scene=new THREE.Scene,this.camera=new THREE.OrthographicCamera(window.innerWidth*-.5,.5*window.innerWidth,.5*window.innerHeight,window.innerHeight*-.5,1,1e3),this.camera.position.z=50,this.scene.add(this.camera),this.time=0,this.addElements(),this.update()}},{key:"bindListeners",value:function(){window.addEventListener("resize",this.resize)}},{key:"addElements",value:function(){this.blobs=[];for(var n=[],e=[],t=0;15>t;t++){var i=new f["default"];n.push(new THREE.Vector3(i.position.x,i.position.y,0)),e.push(i.radius),this.blobs.push(i)}this.uniforms=[],this.uniforms.uRadiuses={type:"fv1",value:e},this.uniforms.uCenters={type:"v3v",value:n},this.uniforms.uColor={type:"v3",value:new THREE.Vector3(.57,.28,0)},this.uniforms.uTime={type:"f",value:this.time},this.uniforms.uResolution={type:"v2",value:new THREE.Vector2(window.innerWidth,window.innerHeight)},this.planeGeometry=new THREE.PlaneGeometry(window.innerWidth,window.innerHeight,32),this.material=new THREE.ShaderMaterial({vertexShader:u(["#define GLSLIFY 1\nvoid main() {\n  	gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}"]),fragmentShader:u(['#define GLSLIFY 1\nuniform vec2 uCenters[15];\nuniform float uRadiuses[15];\nuniform float uTime;\n\nuniform vec2 uResolution;\nuniform vec3 uColor;\n\n//\n// GLSL textureless classic 4D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-08-22\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec4 fade(vec4 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec4 P)\n{\n  vec4 Pi0 = floor(P); // Integer part for indexing\n  vec4 Pi1 = Pi0 + 1.0; // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec4 Pf0 = fract(P); // Fractional part for interpolation\n  vec4 Pf1 = Pf0 - 1.0; // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = vec4(Pi0.zzzz);\n  vec4 iz1 = vec4(Pi1.zzzz);\n  vec4 iw0 = vec4(Pi0.wwww);\n  vec4 iw1 = vec4(Pi1.wwww);\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n  vec4 ixy00 = permute(ixy0 + iw0);\n  vec4 ixy01 = permute(ixy0 + iw1);\n  vec4 ixy10 = permute(ixy1 + iw0);\n  vec4 ixy11 = permute(ixy1 + iw1);\n\n  vec4 gx00 = ixy00 * (1.0 / 7.0);\n  vec4 gy00 = floor(gx00) * (1.0 / 7.0);\n  vec4 gz00 = floor(gy00) * (1.0 / 6.0);\n  gx00 = fract(gx00) - 0.5;\n  gy00 = fract(gy00) - 0.5;\n  gz00 = fract(gz00) - 0.5;\n  vec4 gw00 = vec4(0.75) - abs(gx00) - abs(gy00) - abs(gz00);\n  vec4 sw00 = step(gw00, vec4(0.0));\n  gx00 -= sw00 * (step(0.0, gx00) - 0.5);\n  gy00 -= sw00 * (step(0.0, gy00) - 0.5);\n\n  vec4 gx01 = ixy01 * (1.0 / 7.0);\n  vec4 gy01 = floor(gx01) * (1.0 / 7.0);\n  vec4 gz01 = floor(gy01) * (1.0 / 6.0);\n  gx01 = fract(gx01) - 0.5;\n  gy01 = fract(gy01) - 0.5;\n  gz01 = fract(gz01) - 0.5;\n  vec4 gw01 = vec4(0.75) - abs(gx01) - abs(gy01) - abs(gz01);\n  vec4 sw01 = step(gw01, vec4(0.0));\n  gx01 -= sw01 * (step(0.0, gx01) - 0.5);\n  gy01 -= sw01 * (step(0.0, gy01) - 0.5);\n\n  vec4 gx10 = ixy10 * (1.0 / 7.0);\n  vec4 gy10 = floor(gx10) * (1.0 / 7.0);\n  vec4 gz10 = floor(gy10) * (1.0 / 6.0);\n  gx10 = fract(gx10) - 0.5;\n  gy10 = fract(gy10) - 0.5;\n  gz10 = fract(gz10) - 0.5;\n  vec4 gw10 = vec4(0.75) - abs(gx10) - abs(gy10) - abs(gz10);\n  vec4 sw10 = step(gw10, vec4(0.0));\n  gx10 -= sw10 * (step(0.0, gx10) - 0.5);\n  gy10 -= sw10 * (step(0.0, gy10) - 0.5);\n\n  vec4 gx11 = ixy11 * (1.0 / 7.0);\n  vec4 gy11 = floor(gx11) * (1.0 / 7.0);\n  vec4 gz11 = floor(gy11) * (1.0 / 6.0);\n  gx11 = fract(gx11) - 0.5;\n  gy11 = fract(gy11) - 0.5;\n  gz11 = fract(gz11) - 0.5;\n  vec4 gw11 = vec4(0.75) - abs(gx11) - abs(gy11) - abs(gz11);\n  vec4 sw11 = step(gw11, vec4(0.0));\n  gx11 -= sw11 * (step(0.0, gx11) - 0.5);\n  gy11 -= sw11 * (step(0.0, gy11) - 0.5);\n\n  vec4 g0000 = vec4(gx00.x,gy00.x,gz00.x,gw00.x);\n  vec4 g1000 = vec4(gx00.y,gy00.y,gz00.y,gw00.y);\n  vec4 g0100 = vec4(gx00.z,gy00.z,gz00.z,gw00.z);\n  vec4 g1100 = vec4(gx00.w,gy00.w,gz00.w,gw00.w);\n  vec4 g0010 = vec4(gx10.x,gy10.x,gz10.x,gw10.x);\n  vec4 g1010 = vec4(gx10.y,gy10.y,gz10.y,gw10.y);\n  vec4 g0110 = vec4(gx10.z,gy10.z,gz10.z,gw10.z);\n  vec4 g1110 = vec4(gx10.w,gy10.w,gz10.w,gw10.w);\n  vec4 g0001 = vec4(gx01.x,gy01.x,gz01.x,gw01.x);\n  vec4 g1001 = vec4(gx01.y,gy01.y,gz01.y,gw01.y);\n  vec4 g0101 = vec4(gx01.z,gy01.z,gz01.z,gw01.z);\n  vec4 g1101 = vec4(gx01.w,gy01.w,gz01.w,gw01.w);\n  vec4 g0011 = vec4(gx11.x,gy11.x,gz11.x,gw11.x);\n  vec4 g1011 = vec4(gx11.y,gy11.y,gz11.y,gw11.y);\n  vec4 g0111 = vec4(gx11.z,gy11.z,gz11.z,gw11.z);\n  vec4 g1111 = vec4(gx11.w,gy11.w,gz11.w,gw11.w);\n\n  vec4 norm00 = taylorInvSqrt(vec4(dot(g0000, g0000), dot(g0100, g0100), dot(g1000, g1000), dot(g1100, g1100)));\n  g0000 *= norm00.x;\n  g0100 *= norm00.y;\n  g1000 *= norm00.z;\n  g1100 *= norm00.w;\n\n  vec4 norm01 = taylorInvSqrt(vec4(dot(g0001, g0001), dot(g0101, g0101), dot(g1001, g1001), dot(g1101, g1101)));\n  g0001 *= norm01.x;\n  g0101 *= norm01.y;\n  g1001 *= norm01.z;\n  g1101 *= norm01.w;\n\n  vec4 norm10 = taylorInvSqrt(vec4(dot(g0010, g0010), dot(g0110, g0110), dot(g1010, g1010), dot(g1110, g1110)));\n  g0010 *= norm10.x;\n  g0110 *= norm10.y;\n  g1010 *= norm10.z;\n  g1110 *= norm10.w;\n\n  vec4 norm11 = taylorInvSqrt(vec4(dot(g0011, g0011), dot(g0111, g0111), dot(g1011, g1011), dot(g1111, g1111)));\n  g0011 *= norm11.x;\n  g0111 *= norm11.y;\n  g1011 *= norm11.z;\n  g1111 *= norm11.w;\n\n  float n0000 = dot(g0000, Pf0);\n  float n1000 = dot(g1000, vec4(Pf1.x, Pf0.yzw));\n  float n0100 = dot(g0100, vec4(Pf0.x, Pf1.y, Pf0.zw));\n  float n1100 = dot(g1100, vec4(Pf1.xy, Pf0.zw));\n  float n0010 = dot(g0010, vec4(Pf0.xy, Pf1.z, Pf0.w));\n  float n1010 = dot(g1010, vec4(Pf1.x, Pf0.y, Pf1.z, Pf0.w));\n  float n0110 = dot(g0110, vec4(Pf0.x, Pf1.yz, Pf0.w));\n  float n1110 = dot(g1110, vec4(Pf1.xyz, Pf0.w));\n  float n0001 = dot(g0001, vec4(Pf0.xyz, Pf1.w));\n  float n1001 = dot(g1001, vec4(Pf1.x, Pf0.yz, Pf1.w));\n  float n0101 = dot(g0101, vec4(Pf0.x, Pf1.y, Pf0.z, Pf1.w));\n  float n1101 = dot(g1101, vec4(Pf1.xy, Pf0.z, Pf1.w));\n  float n0011 = dot(g0011, vec4(Pf0.xy, Pf1.zw));\n  float n1011 = dot(g1011, vec4(Pf1.x, Pf0.y, Pf1.zw));\n  float n0111 = dot(g0111, vec4(Pf0.x, Pf1.yzw));\n  float n1111 = dot(g1111, Pf1);\n\n  vec4 fade_xyzw = fade(Pf0);\n  vec4 n_0w = mix(vec4(n0000, n1000, n0100, n1100), vec4(n0001, n1001, n0101, n1101), fade_xyzw.w);\n  vec4 n_1w = mix(vec4(n0010, n1010, n0110, n1110), vec4(n0011, n1011, n0111, n1111), fade_xyzw.w);\n  vec4 n_zw = mix(n_0w, n_1w, fade_xyzw.z);\n  vec2 n_yzw = mix(n_zw.xy, n_zw.zw, fade_xyzw.y);\n  float n_xyzw = mix(n_yzw.x, n_yzw.y, fade_xyzw.x);\n  return 2.2 * n_xyzw;\n}\n\nvoid main() {\n	float sum = 0.;\n	float displacement = cnoise(vec4(gl_FragCoord.xyz, uTime));\n\n	for (int i = 0; i < 15; ++i) {\n\n		vec3 point = vec3(uCenters[i].x, uCenters[i].y, 0.);\n		float dist = distance(point, gl_FragCoord.xyz);\n		float color = uRadiuses[i] / dist;\n		\n		sum += color;\n	}\n\n  	gl_FragColor = vec4(sum * uColor.x, sum * uColor.y, sum * uColor.z, 1.);\n}']),uniforms:this.uniforms}),this.plane=new THREE.Mesh(this.planeGeometry,this.material),this.scene.add(this.plane)}},{key:"update",value:function(){this.time+=.01;for(var n=[],e=[],t=0;t<this.blobs.length;t++){var i=this.blobs[t];i.update(this.time),n.push(new THREE.Vector3(i.position.x,i.position.y,0)),e.push(i.radius)}this.uniforms.uRadiuses.value=e,this.uniforms.uCenters.value=n,this.uniforms.uTime.value=this.time,this.renderer.render(this.scene,this.camera),(0,a["default"])(this.update)}},{key:"resize",value:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}]),n}();new g},{"./Blob":5,glslify:1,raf:4}]},{},[6]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZ2xzbGlmeS9icm93c2VyLmpzIiwiYnVpbGQuanMiLCJub2RlX21vZHVsZXMvcGVyZm9ybWFuY2Utbm93L2xpYi9wZXJmb3JtYW5jZS1ub3cuanMiLCJub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3JhZi9pbmRleC5qcyIsInNyYy9qcy9jdXN0b20vQmxvYi5qcyIsInNyYy9qcy9jdXN0b20vTWFpbi5qcyJdLCJuYW1lcyI6WyJlIiwidCIsIm4iLCJyIiwicyIsIm8iLCJ1IiwiYSIsInJlcXVpcmUiLCJpIiwiZiIsIkVycm9yIiwiY29kZSIsImwiLCJleHBvcnRzIiwiY2FsbCIsImxlbmd0aCIsIjEiLCJtb2R1bGUiLCJzdHJpbmdzIiwiZXhwcnMiLCJzbGljZSIsImFyZ3VtZW50cyIsInBhcnRzIiwicHVzaCIsImpvaW4iLCIyIiwicHJvY2VzcyIsImdldE5hbm9TZWNvbmRzIiwiaHJ0aW1lIiwibG9hZFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImhyIiwiRGF0ZSIsImdldFRpbWUiLCJ0aGlzIiwiX3Byb2Nlc3MiLCIzIiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwiY2FjaGVkU2V0VGltZW91dCIsInNldFRpbWVvdXQiLCJydW5DbGVhclRpbWVvdXQiLCJtYXJrZXIiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiY29uY2F0IiwicXVldWVJbmRleCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwibGVuIiwicnVuIiwiSXRlbSIsImFycmF5Iiwibm9vcCIsIm5leHRUaWNrIiwiYXJncyIsIkFycmF5IiwicHJvdG90eXBlIiwiYXBwbHkiLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJiaW5kaW5nIiwibmFtZSIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCI0IiwiZ2xvYmFsIiwicm9vdCIsIndpbmRvdyIsInZlbmRvcnMiLCJzdWZmaXgiLCJyYWYiLCJjYWYiLCJsYXN0IiwiaWQiLCJmcmFtZUR1cmF0aW9uIiwiY2FsbGJhY2siLCJfbm93IiwibmV4dCIsIk1hdGgiLCJtYXgiLCJjcCIsImNhbmNlbGxlZCIsInJvdW5kIiwiaGFuZGxlIiwiZm4iLCJjYW5jZWwiLCJwb2x5ZmlsbCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwic2VsZiIsInBlcmZvcm1hbmNlLW5vdyIsIjUiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwidmFsdWUiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImRlZmluZVByb3BlcnR5IiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkJsb2IiLCJfVEhSRUUkT2JqZWN0M0QiLCJ4IiwieSIsIl90aGlzIiwiZ2V0UHJvdG90eXBlT2YiLCJwb3NpdGlvbiIsImZsb29yIiwicmFuZG9tIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwidmVsb2NpdHkiLCJUSFJFRSIsIlZlY3RvcjMiLCJzY2FsYXIiLCJtdWx0aXBseVNjYWxhciIsInJhZGl1cyIsInRpbWUiLCJhZGQiLCJkaXN0b3JzaW9uIiwic2luIiwiT2JqZWN0M0QiLCI2IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX3JhZiIsIl9yYWYyIiwiX0Jsb2IiLCJfQmxvYjIiLCJnbHNsaWZ5IiwiQXBwIiwiYmFja2dyb3VuZENvbG9yIiwicmVzaXplIiwiYmluZCIsInVwZGF0ZSIsImluaXQiLCJiaW5kTGlzdGVuZXJzIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJlbmRlcmVyIiwiV2ViR0xSZW5kZXJlciIsImFudGlhbGlhcyIsImFscGhhIiwic2V0U2l6ZSIsInNldENsZWFyQ29sb3IiLCJzY2VuZSIsIlNjZW5lIiwiY2FtZXJhIiwiT3J0aG9ncmFwaGljQ2FtZXJhIiwieiIsImFkZEVsZW1lbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImJsb2JzIiwiY2VudGVycyIsInJhZGl1c2VzIiwiYmxvYiIsInVuaWZvcm1zIiwidHlwZSIsIlZlY3RvcjIiLCJwbGFuZUdlb21ldHJ5IiwiUGxhbmVHZW9tZXRyeSIsIm1hdGVyaWFsIiwiU2hhZGVyTWF0ZXJpYWwiLCJ2ZXJ0ZXhTaGFkZXIiLCJmcmFnbWVudFNoYWRlciIsInBsYW5lIiwiTWVzaCIsInJlbmRlciIsImFzcGVjdCIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCIuL0Jsb2IiXSwibWFwcGluZ3MiOiJDQUFBLFFBQUFBLEdBQUFDLEVBQUFDLEVBQUFDLEdBQUEsUUFBQUMsR0FBQUMsRUFBQUMsR0FBQSxJQUFBSixFQUFBRyxHQUFBLENBQUEsSUFBQUosRUFBQUksR0FBQSxDQUFBLEdBQUFFLEdBQUEsa0JBQUFDLFVBQUFBLE9BQUEsS0FBQUYsR0FBQUMsRUFBQSxNQUFBQSxHQUFBRixHQUFBLEVBQUEsSUFBQUksRUFBQSxNQUFBQSxH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ekssS0FBS3lKLE1BQU05QixJQUFJM0gsS0FBSzZLLFVMb1lwQnZFLElBQUssU0FDTFosTUFBTyxXS2pZUDFGLEtBQUswSCxNQUFRLEdBS2IsS0FBTSxHQUhBdUMsTUFDQUMsS0FFSTdMLEVBQUksRUFBR0EsRUFBSTJCLEtBQUtnSyxNQUFNcEwsT0FBUVAsSUFBTSxDQUM3QyxHQUFNOEwsR0FBT25LLEtBQUtnSyxNQUFNM0wsRUFDeEI4TCxHQUFLdEIsT0FBTzdJLEtBQUswSCxNQUVqQnVDLEVBQVE3SyxLQUFNLEdBQUlpSSxPQUFNQyxRQUFRNkMsRUFBS3BELFNBQVNKLEVBQUd3RCxFQUFLcEQsU0FBU0gsRUFBRyxJQUNsRXNELEVBQVM5SyxLQUFLK0ssRUFBSzFDLFFBR3BCekgsS0FBS29LLFNBQUwsVUFBMkIxRSxNQUFRd0UsRUFDbkNsSyxLQUFLb0ssU0FBTCxTQUEwQjFFLE1BQVF1RSxFQUNsQ2pLLEtBQUtvSyxTQUFMLE1BQXVCMUUsTUFBUTFGLEtBQUswSCxLQUVwQzFILEtBQUttSixTQUFTNEIsT0FBTy9LLEtBQUt5SixNQUFPekosS0FBSzJKLFNBRXRDLEVBQUF0QixFQUFBQSxZQUFJckksS0FBSzZJLFdMcVlUdkMsSUFBSyxTQUNMWixNQUFPLFdLbFlQMUYsS0FBSzJKLE9BQU9xQixPQUFTM0gsT0FBTzZELFdBQWE3RCxPQUFPOEQsWUFDaERuSCxLQUFLMkosT0FBT3NCLHlCQUVaakwsS0FBS21KLFNBQVNJLFFBQVNsRyxPQUFPNkQsV0FBWTdELE9BQU84RCxpQkx1WTNDc0IsSUtsWVIsSUFBSUEsS0x1WUR5QyxTQUFTLEVBQUUxQyxRQUFVLEVBQUVoRixJQUFNLFNBQVMiLCJmaWxlIjoiYnVpbGQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc3RyaW5ncykge1xuICBpZiAodHlwZW9mIHN0cmluZ3MgPT09ICdzdHJpbmcnKSBzdHJpbmdzID0gW3N0cmluZ3NdXG4gIHZhciBleHBycyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpXG4gIHZhciBwYXJ0cyA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGgtMTsgaSsrKSB7XG4gICAgcGFydHMucHVzaChzdHJpbmdzW2ldLCBleHByc1tpXSB8fCAnJylcbiAgfVxuICBwYXJ0cy5wdXNoKHN0cmluZ3NbaV0pXG4gIHJldHVybiBwYXJ0cy5qb2luKCcnKVxufVxuIiwiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzdHJpbmdzKSB7XG4gIGlmICh0eXBlb2Ygc3RyaW5ncyA9PT0gJ3N0cmluZycpIHN0cmluZ3MgPSBbc3RyaW5nc11cbiAgdmFyIGV4cHJzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSlcbiAgdmFyIHBhcnRzID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aC0xOyBpKyspIHtcbiAgICBwYXJ0cy5wdXNoKHN0cmluZ3NbaV0sIGV4cHJzW2ldIHx8ICcnKVxuICB9XG4gIHBhcnRzLnB1c2goc3RyaW5nc1tpXSlcbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG5cbn0se31dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS43LjFcbihmdW5jdGlvbigpIHtcbiAgdmFyIGdldE5hbm9TZWNvbmRzLCBocnRpbWUsIGxvYWRUaW1lO1xuXG4gIGlmICgodHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIHBlcmZvcm1hbmNlICE9PSBudWxsKSAmJiBwZXJmb3JtYW5jZS5ub3cpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MgIT09IG51bGwpICYmIHByb2Nlc3MuaHJ0aW1lKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAoZ2V0TmFub1NlY29uZHMoKSAtIGxvYWRUaW1lKSAvIDFlNjtcbiAgICB9O1xuICAgIGhydGltZSA9IHByb2Nlc3MuaHJ0aW1lO1xuICAgIGdldE5hbm9TZWNvbmRzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaHI7XG4gICAgICBociA9IGhydGltZSgpO1xuICAgICAgcmV0dXJuIGhyWzBdICogMWU5ICsgaHJbMV07XG4gICAgfTtcbiAgICBsb2FkVGltZSA9IGdldE5hbm9TZWNvbmRzKCk7XG4gIH0gZWxzZSBpZiAoRGF0ZS5ub3cpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIERhdGUubm93KCkgLSBsb2FkVGltZTtcbiAgICB9O1xuICAgIGxvYWRUaW1lID0gRGF0ZS5ub3coKTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbG9hZFRpbWU7XG4gICAgfTtcbiAgICBsb2FkVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICB9XG5cbn0pLmNhbGwodGhpcyk7XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpKVxuXG59LHtcIl9wcm9jZXNzXCI6M31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxufSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKGdsb2JhbCl7XG52YXIgbm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2Utbm93JylcbiAgLCByb290ID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB3aW5kb3dcbiAgLCB2ZW5kb3JzID0gWydtb3onLCAnd2Via2l0J11cbiAgLCBzdWZmaXggPSAnQW5pbWF0aW9uRnJhbWUnXG4gICwgcmFmID0gcm9vdFsncmVxdWVzdCcgKyBzdWZmaXhdXG4gICwgY2FmID0gcm9vdFsnY2FuY2VsJyArIHN1ZmZpeF0gfHwgcm9vdFsnY2FuY2VsUmVxdWVzdCcgKyBzdWZmaXhdXG5cbmZvcih2YXIgaSA9IDA7ICFyYWYgJiYgaSA8IHZlbmRvcnMubGVuZ3RoOyBpKyspIHtcbiAgcmFmID0gcm9vdFt2ZW5kb3JzW2ldICsgJ1JlcXVlc3QnICsgc3VmZml4XVxuICBjYWYgPSByb290W3ZlbmRvcnNbaV0gKyAnQ2FuY2VsJyArIHN1ZmZpeF1cbiAgICAgIHx8IHJvb3RbdmVuZG9yc1tpXSArICdDYW5jZWxSZXF1ZXN0JyArIHN1ZmZpeF1cbn1cblxuLy8gU29tZSB2ZXJzaW9ucyBvZiBGRiBoYXZlIHJBRiBidXQgbm90IGNBRlxuaWYoIXJhZiB8fCAhY2FmKSB7XG4gIHZhciBsYXN0ID0gMFxuICAgICwgaWQgPSAwXG4gICAgLCBxdWV1ZSA9IFtdXG4gICAgLCBmcmFtZUR1cmF0aW9uID0gMTAwMCAvIDYwXG5cbiAgcmFmID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICBpZihxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHZhciBfbm93ID0gbm93KClcbiAgICAgICAgLCBuZXh0ID0gTWF0aC5tYXgoMCwgZnJhbWVEdXJhdGlvbiAtIChfbm93IC0gbGFzdCkpXG4gICAgICBsYXN0ID0gbmV4dCArIF9ub3dcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjcCA9IHF1ZXVlLnNsaWNlKDApXG4gICAgICAgIC8vIENsZWFyIHF1ZXVlIGhlcmUgdG8gcHJldmVudFxuICAgICAgICAvLyBjYWxsYmFja3MgZnJvbSBhcHBlbmRpbmcgbGlzdGVuZXJzXG4gICAgICAgIC8vIHRvIHRoZSBjdXJyZW50IGZyYW1lJ3MgcXVldWVcbiAgICAgICAgcXVldWUubGVuZ3RoID0gMFxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY3AubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZighY3BbaV0uY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgIGNwW2ldLmNhbGxiYWNrKGxhc3QpXG4gICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgdGhyb3cgZSB9LCAwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgTWF0aC5yb3VuZChuZXh0KSlcbiAgICB9XG4gICAgcXVldWUucHVzaCh7XG4gICAgICBoYW5kbGU6ICsraWQsXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICBjYW5jZWxsZWQ6IGZhbHNlXG4gICAgfSlcbiAgICByZXR1cm4gaWRcbiAgfVxuXG4gIGNhZiA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYocXVldWVbaV0uaGFuZGxlID09PSBoYW5kbGUpIHtcbiAgICAgICAgcXVldWVbaV0uY2FuY2VsbGVkID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuKSB7XG4gIC8vIFdyYXAgaW4gYSBuZXcgZnVuY3Rpb24gdG8gcHJldmVudFxuICAvLyBgY2FuY2VsYCBwb3RlbnRpYWxseSBiZWluZyBhc3NpZ25lZFxuICAvLyB0byB0aGUgbmF0aXZlIHJBRiBmdW5jdGlvblxuICByZXR1cm4gcmFmLmNhbGwocm9vdCwgZm4pXG59XG5tb2R1bGUuZXhwb3J0cy5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgY2FmLmFwcGx5KHJvb3QsIGFyZ3VtZW50cylcbn1cbm1vZHVsZS5leHBvcnRzLnBvbHlmaWxsID0gZnVuY3Rpb24oKSB7XG4gIHJvb3QucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmFmXG4gIHJvb3QuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBjYWZcbn1cblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se1wicGVyZm9ybWFuY2Utbm93XCI6Mn1dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIEJsb2IgPSBmdW5jdGlvbiAoX1RIUkVFJE9iamVjdDNEKSB7XG5cdF9pbmhlcml0cyhCbG9iLCBfVEhSRUUkT2JqZWN0M0QpO1xuXG5cdGZ1bmN0aW9uIEJsb2IoeCwgeSkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCbG9iKTtcblxuXHRcdHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChCbG9iLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmxvYikpLmNhbGwodGhpcykpO1xuXG5cdFx0X3RoaXMucG9zaXRpb24ueCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHdpbmRvdy5pbm5lcldpZHRoKTtcblx0XHRfdGhpcy5wb3NpdGlvbi55ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogd2luZG93LmlubmVySGVpZ2h0KTtcblxuXHRcdF90aGlzLnZlbG9jaXR5ID0gbmV3IFRIUkVFLlZlY3RvcjMoTWF0aC5yYW5kb20oKSwgTWF0aC5yYW5kb20oKSwgMCk7XG5cblx0XHR2YXIgc2NhbGFyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMykgKyAyO1xuXHRcdF90aGlzLnZlbG9jaXR5Lm11bHRpcGx5U2NhbGFyKHNjYWxhcik7XG5cblx0XHRfdGhpcy5yYWRpdXMgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0MCkgKyAzMDtcblx0XHRyZXR1cm4gX3RoaXM7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoQmxvYiwgW3tcblx0XHRrZXk6IFwidXBkYXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSh0aW1lKSB7XG5cdFx0XHR0aGlzLnBvc2l0aW9uLmFkZCh0aGlzLnZlbG9jaXR5KTtcblxuXHRcdFx0aWYgKHRoaXMucG9zaXRpb24ueCA8IDAgfHwgdGhpcy5wb3NpdGlvbi54ID4gd2luZG93LmlubmVyV2lkdGgpIHtcblx0XHRcdFx0dGhpcy52ZWxvY2l0eS54ICo9IC0xO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5wb3NpdGlvbi55IDwgMCB8fCB0aGlzLnBvc2l0aW9uLnkgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcblx0XHRcdFx0dGhpcy52ZWxvY2l0eS55ICo9IC0xO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZGlzdG9yc2lvbiA9IE1hdGguc2luKHRpbWUpICogMC4wNTtcblxuXHRcdFx0dGhpcy5yYWRpdXMgKz0gZGlzdG9yc2lvbjtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gQmxvYjtcbn0oVEhSRUUuT2JqZWN0M0QpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBCbG9iO1xuXG59LHt9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yYWYgPSByZXF1aXJlKCdyYWYnKTtcblxudmFyIF9yYWYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFmKTtcblxudmFyIF9CbG9iID0gcmVxdWlyZSgnLi9CbG9iJyk7XG5cbnZhciBfQmxvYjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CbG9iKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIGdsc2xpZnkgPSByZXF1aXJlKCdnbHNsaWZ5Jyk7XG5cbnZhciBBcHAgPSBmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIEFwcCgpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXBwKTtcblxuXHRcdHRoaXMuYmFja2dyb3VuZENvbG9yID0gMHgwMDAwMDA7XG5cblx0XHR0aGlzLnJlc2l6ZSA9IHRoaXMucmVzaXplLmJpbmQodGhpcyk7XG5cdFx0dGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuXG5cdFx0dGhpcy5pbml0KCk7XG5cdFx0dGhpcy5iaW5kTGlzdGVuZXJzKCk7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoQXBwLCBbe1xuXHRcdGtleTogJ2luaXQnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KCkge1xuXHRcdFx0dmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcblxuXHRcdFx0dGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgY2FudmFzOiBjYW52YXMsIGFudGlhbGlhczogdHJ1ZSwgYWxwaGE6IGZhbHNlIH0pO1xuXHRcdFx0dGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuXHRcdFx0dGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKHRoaXMuYmFja2dyb3VuZENvbG9yKTtcblxuXHRcdFx0dGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuXG5cdFx0XHR0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEod2luZG93LmlubmVyV2lkdGggKiAtMC41LCB3aW5kb3cuaW5uZXJXaWR0aCAqIDAuNSwgd2luZG93LmlubmVySGVpZ2h0ICogMC41LCB3aW5kb3cuaW5uZXJIZWlnaHQgKiAtMC41LCAxLCAxMDAwKTtcblx0XHRcdHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSA1MDtcblx0XHRcdHRoaXMuc2NlbmUuYWRkKHRoaXMuY2FtZXJhKTtcblxuXHRcdFx0dGhpcy50aW1lID0gMC4wO1xuXG5cdFx0XHR0aGlzLmFkZEVsZW1lbnRzKCk7XG5cblx0XHRcdHRoaXMudXBkYXRlKCk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAnYmluZExpc3RlbmVycycsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGJpbmRMaXN0ZW5lcnMoKSB7XG5cdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogJ2FkZEVsZW1lbnRzJyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gYWRkRWxlbWVudHMoKSB7XG5cdFx0XHR0aGlzLmJsb2JzID0gW107XG5cblx0XHRcdHZhciBjZW50ZXJzID0gW107XG5cdFx0XHR2YXIgcmFkaXVzZXMgPSBbXTtcblxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxNTsgaSsrKSB7XG5cdFx0XHRcdHZhciBibG9iID0gbmV3IF9CbG9iMi5kZWZhdWx0KCk7XG5cdFx0XHRcdGNlbnRlcnMucHVzaChuZXcgVEhSRUUuVmVjdG9yMyhibG9iLnBvc2l0aW9uLngsIGJsb2IucG9zaXRpb24ueSwgMCkpO1xuXHRcdFx0XHRyYWRpdXNlcy5wdXNoKGJsb2IucmFkaXVzKTtcblxuXHRcdFx0XHR0aGlzLmJsb2JzLnB1c2goYmxvYik7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMudW5pZm9ybXMgPSBbXTtcblx0XHRcdHRoaXMudW5pZm9ybXNbJ3VSYWRpdXNlcyddID0geyB0eXBlOiAnZnYxJywgdmFsdWU6IHJhZGl1c2VzIH07XG5cdFx0XHR0aGlzLnVuaWZvcm1zWyd1Q2VudGVycyddID0geyB0eXBlOiAndjN2JywgdmFsdWU6IGNlbnRlcnMgfTtcblxuXHRcdFx0dGhpcy51bmlmb3Jtc1sndUNvbG9yJ10gPSB7IHR5cGU6ICd2MycsIHZhbHVlOiBuZXcgVEhSRUUuVmVjdG9yMygwLjU3LCAwLjI4LCAwKSB9O1xuXHRcdFx0dGhpcy51bmlmb3Jtc1sndVRpbWUnXSA9IHsgdHlwZTogJ2YnLCB2YWx1ZTogdGhpcy50aW1lIH07XG5cdFx0XHR0aGlzLnVuaWZvcm1zWyd1UmVzb2x1dGlvbiddID0geyB0eXBlOiAndjInLCB2YWx1ZTogbmV3IFRIUkVFLlZlY3RvcjIod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCkgfTtcblxuXHRcdFx0dGhpcy5wbGFuZUdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCwgMzIpO1xuXHRcdFx0dGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG5cdFx0XHRcdHZlcnRleFNoYWRlcjogZ2xzbGlmeShbXCIjZGVmaW5lIEdMU0xJRlkgMVxcbnZvaWQgbWFpbigpIHtcXG4gIFxcdGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7XFxufVwiXSksXG5cdFx0XHRcdGZyYWdtZW50U2hhZGVyOiBnbHNsaWZ5KFtcIiNkZWZpbmUgR0xTTElGWSAxXFxudW5pZm9ybSB2ZWMyIHVDZW50ZXJzWzE1XTtcXG51bmlmb3JtIGZsb2F0IHVSYWRpdXNlc1sxNV07XFxudW5pZm9ybSBmbG9hdCB1VGltZTtcXG5cXG51bmlmb3JtIHZlYzIgdVJlc29sdXRpb247XFxudW5pZm9ybSB2ZWMzIHVDb2xvcjtcXG5cXG4vL1xcbi8vIEdMU0wgdGV4dHVyZWxlc3MgY2xhc3NpYyA0RCBub2lzZSBcXFwiY25vaXNlXFxcIixcXG4vLyB3aXRoIGFuIFJTTC1zdHlsZSBwZXJpb2RpYyB2YXJpYW50IFxcXCJwbm9pc2VcXFwiLlxcbi8vIEF1dGhvcjogIFN0ZWZhbiBHdXN0YXZzb24gKHN0ZWZhbi5ndXN0YXZzb25AbGl1LnNlKVxcbi8vIFZlcnNpb246IDIwMTEtMDgtMjJcXG4vL1xcbi8vIE1hbnkgdGhhbmtzIHRvIElhbiBNY0V3YW4gb2YgQXNoaW1hIEFydHMgZm9yIHRoZVxcbi8vIGlkZWFzIGZvciBwZXJtdXRhdGlvbiBhbmQgZ3JhZGllbnQgc2VsZWN0aW9uLlxcbi8vXFxuLy8gQ29weXJpZ2h0IChjKSAyMDExIFN0ZWZhbiBHdXN0YXZzb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXFxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiBTZWUgTElDRU5TRSBmaWxlLlxcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hc2hpbWEvd2ViZ2wtbm9pc2VcXG4vL1xcblxcbnZlYzQgbW9kMjg5KHZlYzQgeClcXG57XFxuICByZXR1cm4geCAtIGZsb29yKHggKiAoMS4wIC8gMjg5LjApKSAqIDI4OS4wO1xcbn1cXG5cXG52ZWM0IHBlcm11dGUodmVjNCB4KVxcbntcXG4gIHJldHVybiBtb2QyODkoKCh4KjM0LjApKzEuMCkqeCk7XFxufVxcblxcbnZlYzQgdGF5bG9ySW52U3FydCh2ZWM0IHIpXFxue1xcbiAgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjtcXG59XFxuXFxudmVjNCBmYWRlKHZlYzQgdCkge1xcbiAgcmV0dXJuIHQqdCp0Kih0Kih0KjYuMC0xNS4wKSsxMC4wKTtcXG59XFxuXFxuLy8gQ2xhc3NpYyBQZXJsaW4gbm9pc2VcXG5mbG9hdCBjbm9pc2UodmVjNCBQKVxcbntcXG4gIHZlYzQgUGkwID0gZmxvb3IoUCk7IC8vIEludGVnZXIgcGFydCBmb3IgaW5kZXhpbmdcXG4gIHZlYzQgUGkxID0gUGkwICsgMS4wOyAvLyBJbnRlZ2VyIHBhcnQgKyAxXFxuICBQaTAgPSBtb2QyODkoUGkwKTtcXG4gIFBpMSA9IG1vZDI4OShQaTEpO1xcbiAgdmVjNCBQZjAgPSBmcmFjdChQKTsgLy8gRnJhY3Rpb25hbCBwYXJ0IGZvciBpbnRlcnBvbGF0aW9uXFxuICB2ZWM0IFBmMSA9IFBmMCAtIDEuMDsgLy8gRnJhY3Rpb25hbCBwYXJ0IC0gMS4wXFxuICB2ZWM0IGl4ID0gdmVjNChQaTAueCwgUGkxLngsIFBpMC54LCBQaTEueCk7XFxuICB2ZWM0IGl5ID0gdmVjNChQaTAueXksIFBpMS55eSk7XFxuICB2ZWM0IGl6MCA9IHZlYzQoUGkwLnp6enopO1xcbiAgdmVjNCBpejEgPSB2ZWM0KFBpMS56enp6KTtcXG4gIHZlYzQgaXcwID0gdmVjNChQaTAud3d3dyk7XFxuICB2ZWM0IGl3MSA9IHZlYzQoUGkxLnd3d3cpO1xcblxcbiAgdmVjNCBpeHkgPSBwZXJtdXRlKHBlcm11dGUoaXgpICsgaXkpO1xcbiAgdmVjNCBpeHkwID0gcGVybXV0ZShpeHkgKyBpejApO1xcbiAgdmVjNCBpeHkxID0gcGVybXV0ZShpeHkgKyBpejEpO1xcbiAgdmVjNCBpeHkwMCA9IHBlcm11dGUoaXh5MCArIGl3MCk7XFxuICB2ZWM0IGl4eTAxID0gcGVybXV0ZShpeHkwICsgaXcxKTtcXG4gIHZlYzQgaXh5MTAgPSBwZXJtdXRlKGl4eTEgKyBpdzApO1xcbiAgdmVjNCBpeHkxMSA9IHBlcm11dGUoaXh5MSArIGl3MSk7XFxuXFxuICB2ZWM0IGd4MDAgPSBpeHkwMCAqICgxLjAgLyA3LjApO1xcbiAgdmVjNCBneTAwID0gZmxvb3IoZ3gwMCkgKiAoMS4wIC8gNy4wKTtcXG4gIHZlYzQgZ3owMCA9IGZsb29yKGd5MDApICogKDEuMCAvIDYuMCk7XFxuICBneDAwID0gZnJhY3QoZ3gwMCkgLSAwLjU7XFxuICBneTAwID0gZnJhY3QoZ3kwMCkgLSAwLjU7XFxuICBnejAwID0gZnJhY3QoZ3owMCkgLSAwLjU7XFxuICB2ZWM0IGd3MDAgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MDApIC0gYWJzKGd5MDApIC0gYWJzKGd6MDApO1xcbiAgdmVjNCBzdzAwID0gc3RlcChndzAwLCB2ZWM0KDAuMCkpO1xcbiAgZ3gwMCAtPSBzdzAwICogKHN0ZXAoMC4wLCBneDAwKSAtIDAuNSk7XFxuICBneTAwIC09IHN3MDAgKiAoc3RlcCgwLjAsIGd5MDApIC0gMC41KTtcXG5cXG4gIHZlYzQgZ3gwMSA9IGl4eTAxICogKDEuMCAvIDcuMCk7XFxuICB2ZWM0IGd5MDEgPSBmbG9vcihneDAxKSAqICgxLjAgLyA3LjApO1xcbiAgdmVjNCBnejAxID0gZmxvb3IoZ3kwMSkgKiAoMS4wIC8gNi4wKTtcXG4gIGd4MDEgPSBmcmFjdChneDAxKSAtIDAuNTtcXG4gIGd5MDEgPSBmcmFjdChneTAxKSAtIDAuNTtcXG4gIGd6MDEgPSBmcmFjdChnejAxKSAtIDAuNTtcXG4gIHZlYzQgZ3cwMSA9IHZlYzQoMC43NSkgLSBhYnMoZ3gwMSkgLSBhYnMoZ3kwMSkgLSBhYnMoZ3owMSk7XFxuICB2ZWM0IHN3MDEgPSBzdGVwKGd3MDEsIHZlYzQoMC4wKSk7XFxuICBneDAxIC09IHN3MDEgKiAoc3RlcCgwLjAsIGd4MDEpIC0gMC41KTtcXG4gIGd5MDEgLT0gc3cwMSAqIChzdGVwKDAuMCwgZ3kwMSkgLSAwLjUpO1xcblxcbiAgdmVjNCBneDEwID0gaXh5MTAgKiAoMS4wIC8gNy4wKTtcXG4gIHZlYzQgZ3kxMCA9IGZsb29yKGd4MTApICogKDEuMCAvIDcuMCk7XFxuICB2ZWM0IGd6MTAgPSBmbG9vcihneTEwKSAqICgxLjAgLyA2LjApO1xcbiAgZ3gxMCA9IGZyYWN0KGd4MTApIC0gMC41O1xcbiAgZ3kxMCA9IGZyYWN0KGd5MTApIC0gMC41O1xcbiAgZ3oxMCA9IGZyYWN0KGd6MTApIC0gMC41O1xcbiAgdmVjNCBndzEwID0gdmVjNCgwLjc1KSAtIGFicyhneDEwKSAtIGFicyhneTEwKSAtIGFicyhnejEwKTtcXG4gIHZlYzQgc3cxMCA9IHN0ZXAoZ3cxMCwgdmVjNCgwLjApKTtcXG4gIGd4MTAgLT0gc3cxMCAqIChzdGVwKDAuMCwgZ3gxMCkgLSAwLjUpO1xcbiAgZ3kxMCAtPSBzdzEwICogKHN0ZXAoMC4wLCBneTEwKSAtIDAuNSk7XFxuXFxuICB2ZWM0IGd4MTEgPSBpeHkxMSAqICgxLjAgLyA3LjApO1xcbiAgdmVjNCBneTExID0gZmxvb3IoZ3gxMSkgKiAoMS4wIC8gNy4wKTtcXG4gIHZlYzQgZ3oxMSA9IGZsb29yKGd5MTEpICogKDEuMCAvIDYuMCk7XFxuICBneDExID0gZnJhY3QoZ3gxMSkgLSAwLjU7XFxuICBneTExID0gZnJhY3QoZ3kxMSkgLSAwLjU7XFxuICBnejExID0gZnJhY3QoZ3oxMSkgLSAwLjU7XFxuICB2ZWM0IGd3MTEgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MTEpIC0gYWJzKGd5MTEpIC0gYWJzKGd6MTEpO1xcbiAgdmVjNCBzdzExID0gc3RlcChndzExLCB2ZWM0KDAuMCkpO1xcbiAgZ3gxMSAtPSBzdzExICogKHN0ZXAoMC4wLCBneDExKSAtIDAuNSk7XFxuICBneTExIC09IHN3MTEgKiAoc3RlcCgwLjAsIGd5MTEpIC0gMC41KTtcXG5cXG4gIHZlYzQgZzAwMDAgPSB2ZWM0KGd4MDAueCxneTAwLngsZ3owMC54LGd3MDAueCk7XFxuICB2ZWM0IGcxMDAwID0gdmVjNChneDAwLnksZ3kwMC55LGd6MDAueSxndzAwLnkpO1xcbiAgdmVjNCBnMDEwMCA9IHZlYzQoZ3gwMC56LGd5MDAueixnejAwLnosZ3cwMC56KTtcXG4gIHZlYzQgZzExMDAgPSB2ZWM0KGd4MDAudyxneTAwLncsZ3owMC53LGd3MDAudyk7XFxuICB2ZWM0IGcwMDEwID0gdmVjNChneDEwLngsZ3kxMC54LGd6MTAueCxndzEwLngpO1xcbiAgdmVjNCBnMTAxMCA9IHZlYzQoZ3gxMC55LGd5MTAueSxnejEwLnksZ3cxMC55KTtcXG4gIHZlYzQgZzAxMTAgPSB2ZWM0KGd4MTAueixneTEwLnosZ3oxMC56LGd3MTAueik7XFxuICB2ZWM0IGcxMTEwID0gdmVjNChneDEwLncsZ3kxMC53LGd6MTAudyxndzEwLncpO1xcbiAgdmVjNCBnMDAwMSA9IHZlYzQoZ3gwMS54LGd5MDEueCxnejAxLngsZ3cwMS54KTtcXG4gIHZlYzQgZzEwMDEgPSB2ZWM0KGd4MDEueSxneTAxLnksZ3owMS55LGd3MDEueSk7XFxuICB2ZWM0IGcwMTAxID0gdmVjNChneDAxLnosZ3kwMS56LGd6MDEueixndzAxLnopO1xcbiAgdmVjNCBnMTEwMSA9IHZlYzQoZ3gwMS53LGd5MDEudyxnejAxLncsZ3cwMS53KTtcXG4gIHZlYzQgZzAwMTEgPSB2ZWM0KGd4MTEueCxneTExLngsZ3oxMS54LGd3MTEueCk7XFxuICB2ZWM0IGcxMDExID0gdmVjNChneDExLnksZ3kxMS55LGd6MTEueSxndzExLnkpO1xcbiAgdmVjNCBnMDExMSA9IHZlYzQoZ3gxMS56LGd5MTEueixnejExLnosZ3cxMS56KTtcXG4gIHZlYzQgZzExMTEgPSB2ZWM0KGd4MTEudyxneTExLncsZ3oxMS53LGd3MTEudyk7XFxuXFxuICB2ZWM0IG5vcm0wMCA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMDAsIGcwMDAwKSwgZG90KGcwMTAwLCBnMDEwMCksIGRvdChnMTAwMCwgZzEwMDApLCBkb3QoZzExMDAsIGcxMTAwKSkpO1xcbiAgZzAwMDAgKj0gbm9ybTAwLng7XFxuICBnMDEwMCAqPSBub3JtMDAueTtcXG4gIGcxMDAwICo9IG5vcm0wMC56O1xcbiAgZzExMDAgKj0gbm9ybTAwLnc7XFxuXFxuICB2ZWM0IG5vcm0wMSA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMDEsIGcwMDAxKSwgZG90KGcwMTAxLCBnMDEwMSksIGRvdChnMTAwMSwgZzEwMDEpLCBkb3QoZzExMDEsIGcxMTAxKSkpO1xcbiAgZzAwMDEgKj0gbm9ybTAxLng7XFxuICBnMDEwMSAqPSBub3JtMDEueTtcXG4gIGcxMDAxICo9IG5vcm0wMS56O1xcbiAgZzExMDEgKj0gbm9ybTAxLnc7XFxuXFxuICB2ZWM0IG5vcm0xMCA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMTAsIGcwMDEwKSwgZG90KGcwMTEwLCBnMDExMCksIGRvdChnMTAxMCwgZzEwMTApLCBkb3QoZzExMTAsIGcxMTEwKSkpO1xcbiAgZzAwMTAgKj0gbm9ybTEwLng7XFxuICBnMDExMCAqPSBub3JtMTAueTtcXG4gIGcxMDEwICo9IG5vcm0xMC56O1xcbiAgZzExMTAgKj0gbm9ybTEwLnc7XFxuXFxuICB2ZWM0IG5vcm0xMSA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMTEsIGcwMDExKSwgZG90KGcwMTExLCBnMDExMSksIGRvdChnMTAxMSwgZzEwMTEpLCBkb3QoZzExMTEsIGcxMTExKSkpO1xcbiAgZzAwMTEgKj0gbm9ybTExLng7XFxuICBnMDExMSAqPSBub3JtMTEueTtcXG4gIGcxMDExICo9IG5vcm0xMS56O1xcbiAgZzExMTEgKj0gbm9ybTExLnc7XFxuXFxuICBmbG9hdCBuMDAwMCA9IGRvdChnMDAwMCwgUGYwKTtcXG4gIGZsb2F0IG4xMDAwID0gZG90KGcxMDAwLCB2ZWM0KFBmMS54LCBQZjAueXp3KSk7XFxuICBmbG9hdCBuMDEwMCA9IGRvdChnMDEwMCwgdmVjNChQZjAueCwgUGYxLnksIFBmMC56dykpO1xcbiAgZmxvYXQgbjExMDAgPSBkb3QoZzExMDAsIHZlYzQoUGYxLnh5LCBQZjAuencpKTtcXG4gIGZsb2F0IG4wMDEwID0gZG90KGcwMDEwLCB2ZWM0KFBmMC54eSwgUGYxLnosIFBmMC53KSk7XFxuICBmbG9hdCBuMTAxMCA9IGRvdChnMTAxMCwgdmVjNChQZjEueCwgUGYwLnksIFBmMS56LCBQZjAudykpO1xcbiAgZmxvYXQgbjAxMTAgPSBkb3QoZzAxMTAsIHZlYzQoUGYwLngsIFBmMS55eiwgUGYwLncpKTtcXG4gIGZsb2F0IG4xMTEwID0gZG90KGcxMTEwLCB2ZWM0KFBmMS54eXosIFBmMC53KSk7XFxuICBmbG9hdCBuMDAwMSA9IGRvdChnMDAwMSwgdmVjNChQZjAueHl6LCBQZjEudykpO1xcbiAgZmxvYXQgbjEwMDEgPSBkb3QoZzEwMDEsIHZlYzQoUGYxLngsIFBmMC55eiwgUGYxLncpKTtcXG4gIGZsb2F0IG4wMTAxID0gZG90KGcwMTAxLCB2ZWM0KFBmMC54LCBQZjEueSwgUGYwLnosIFBmMS53KSk7XFxuICBmbG9hdCBuMTEwMSA9IGRvdChnMTEwMSwgdmVjNChQZjEueHksIFBmMC56LCBQZjEudykpO1xcbiAgZmxvYXQgbjAwMTEgPSBkb3QoZzAwMTEsIHZlYzQoUGYwLnh5LCBQZjEuencpKTtcXG4gIGZsb2F0IG4xMDExID0gZG90KGcxMDExLCB2ZWM0KFBmMS54LCBQZjAueSwgUGYxLnp3KSk7XFxuICBmbG9hdCBuMDExMSA9IGRvdChnMDExMSwgdmVjNChQZjAueCwgUGYxLnl6dykpO1xcbiAgZmxvYXQgbjExMTEgPSBkb3QoZzExMTEsIFBmMSk7XFxuXFxuICB2ZWM0IGZhZGVfeHl6dyA9IGZhZGUoUGYwKTtcXG4gIHZlYzQgbl8wdyA9IG1peCh2ZWM0KG4wMDAwLCBuMTAwMCwgbjAxMDAsIG4xMTAwKSwgdmVjNChuMDAwMSwgbjEwMDEsIG4wMTAxLCBuMTEwMSksIGZhZGVfeHl6dy53KTtcXG4gIHZlYzQgbl8xdyA9IG1peCh2ZWM0KG4wMDEwLCBuMTAxMCwgbjAxMTAsIG4xMTEwKSwgdmVjNChuMDAxMSwgbjEwMTEsIG4wMTExLCBuMTExMSksIGZhZGVfeHl6dy53KTtcXG4gIHZlYzQgbl96dyA9IG1peChuXzB3LCBuXzF3LCBmYWRlX3h5encueik7XFxuICB2ZWMyIG5feXp3ID0gbWl4KG5fencueHksIG5fencuencsIGZhZGVfeHl6dy55KTtcXG4gIGZsb2F0IG5feHl6dyA9IG1peChuX3l6dy54LCBuX3l6dy55LCBmYWRlX3h5encueCk7XFxuICByZXR1cm4gMi4yICogbl94eXp3O1xcbn1cXG5cXG52b2lkIG1haW4oKSB7XFxuXFx0ZmxvYXQgc3VtID0gMC47XFxuXFx0ZmxvYXQgZGlzcGxhY2VtZW50ID0gY25vaXNlKHZlYzQoZ2xfRnJhZ0Nvb3JkLnh5eiwgdVRpbWUpKTtcXG5cXG5cXHRmb3IgKGludCBpID0gMDsgaSA8IDE1OyArK2kpIHtcXG5cXG5cXHRcXHR2ZWMzIHBvaW50ID0gdmVjMyh1Q2VudGVyc1tpXS54LCB1Q2VudGVyc1tpXS55LCAwLik7XFxuXFx0XFx0ZmxvYXQgZGlzdCA9IGRpc3RhbmNlKHBvaW50LCBnbF9GcmFnQ29vcmQueHl6KTtcXG5cXHRcXHRmbG9hdCBjb2xvciA9IHVSYWRpdXNlc1tpXSAvIGRpc3Q7XFxuXFx0XFx0XFxuXFx0XFx0c3VtICs9IGNvbG9yO1xcblxcdH1cXG5cXG4gIFxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoc3VtICogdUNvbG9yLngsIHN1bSAqIHVDb2xvci55LCBzdW0gKiB1Q29sb3IueiwgMS4pO1xcbn1cIl0pLFxuXHRcdFx0XHR1bmlmb3JtczogdGhpcy51bmlmb3Jtc1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMucGxhbmUgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLnBsYW5lR2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuXHRcdFx0dGhpcy5zY2VuZS5hZGQodGhpcy5wbGFuZSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAndXBkYXRlJyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuXHRcdFx0dGhpcy50aW1lICs9IDAuMDE7XG5cblx0XHRcdHZhciBjZW50ZXJzID0gW107XG5cdFx0XHR2YXIgcmFkaXVzZXMgPSBbXTtcblxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJsb2JzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBibG9iID0gdGhpcy5ibG9ic1tpXTtcblx0XHRcdFx0YmxvYi51cGRhdGUodGhpcy50aW1lKTtcblxuXHRcdFx0XHRjZW50ZXJzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoYmxvYi5wb3NpdGlvbi54LCBibG9iLnBvc2l0aW9uLnksIDApKTtcblx0XHRcdFx0cmFkaXVzZXMucHVzaChibG9iLnJhZGl1cyk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMudW5pZm9ybXNbJ3VSYWRpdXNlcyddLnZhbHVlID0gcmFkaXVzZXM7XG5cdFx0XHR0aGlzLnVuaWZvcm1zWyd1Q2VudGVycyddLnZhbHVlID0gY2VudGVycztcblx0XHRcdHRoaXMudW5pZm9ybXNbJ3VUaW1lJ10udmFsdWUgPSB0aGlzLnRpbWU7XG5cblx0XHRcdHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcblxuXHRcdFx0KDAsIF9yYWYyLmRlZmF1bHQpKHRoaXMudXBkYXRlKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdyZXNpemUnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiByZXNpemUoKSB7XG5cdFx0XHR0aGlzLmNhbWVyYS5hc3BlY3QgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcblx0XHRcdHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcblxuXHRcdFx0dGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBBcHA7XG59KCk7XG5cbm5ldyBBcHAoKTtcblxufSx7XCIuL0Jsb2JcIjo1LFwiZ2xzbGlmeVwiOjEsXCJyYWZcIjo0fV19LHt9LFs2XSlcblxuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjcuMVxuKGZ1bmN0aW9uKCkge1xuICB2YXIgZ2V0TmFub1NlY29uZHMsIGhydGltZSwgbG9hZFRpbWU7XG5cbiAgaWYgKCh0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCIgJiYgcGVyZm9ybWFuY2UgIT09IG51bGwpICYmIHBlcmZvcm1hbmNlLm5vdykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfTtcbiAgfSBlbHNlIGlmICgodHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2VzcyAhPT0gbnVsbCkgJiYgcHJvY2Vzcy5ocnRpbWUpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIChnZXROYW5vU2Vjb25kcygpIC0gbG9hZFRpbWUpIC8gMWU2O1xuICAgIH07XG4gICAgaHJ0aW1lID0gcHJvY2Vzcy5ocnRpbWU7XG4gICAgZ2V0TmFub1NlY29uZHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBocjtcbiAgICAgIGhyID0gaHJ0aW1lKCk7XG4gICAgICByZXR1cm4gaHJbMF0gKiAxZTkgKyBoclsxXTtcbiAgICB9O1xuICAgIGxvYWRUaW1lID0gZ2V0TmFub1NlY29uZHMoKTtcbiAgfSBlbHNlIGlmIChEYXRlLm5vdykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIGxvYWRUaW1lO1xuICAgIH07XG4gICAgbG9hZFRpbWUgPSBEYXRlLm5vdygpO1xuICB9IGVsc2Uge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBsb2FkVGltZTtcbiAgICB9O1xuICAgIGxvYWRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH1cblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJ2YXIgbm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2Utbm93JylcbiAgLCByb290ID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB3aW5kb3dcbiAgLCB2ZW5kb3JzID0gWydtb3onLCAnd2Via2l0J11cbiAgLCBzdWZmaXggPSAnQW5pbWF0aW9uRnJhbWUnXG4gICwgcmFmID0gcm9vdFsncmVxdWVzdCcgKyBzdWZmaXhdXG4gICwgY2FmID0gcm9vdFsnY2FuY2VsJyArIHN1ZmZpeF0gfHwgcm9vdFsnY2FuY2VsUmVxdWVzdCcgKyBzdWZmaXhdXG5cbmZvcih2YXIgaSA9IDA7ICFyYWYgJiYgaSA8IHZlbmRvcnMubGVuZ3RoOyBpKyspIHtcbiAgcmFmID0gcm9vdFt2ZW5kb3JzW2ldICsgJ1JlcXVlc3QnICsgc3VmZml4XVxuICBjYWYgPSByb290W3ZlbmRvcnNbaV0gKyAnQ2FuY2VsJyArIHN1ZmZpeF1cbiAgICAgIHx8IHJvb3RbdmVuZG9yc1tpXSArICdDYW5jZWxSZXF1ZXN0JyArIHN1ZmZpeF1cbn1cblxuLy8gU29tZSB2ZXJzaW9ucyBvZiBGRiBoYXZlIHJBRiBidXQgbm90IGNBRlxuaWYoIXJhZiB8fCAhY2FmKSB7XG4gIHZhciBsYXN0ID0gMFxuICAgICwgaWQgPSAwXG4gICAgLCBxdWV1ZSA9IFtdXG4gICAgLCBmcmFtZUR1cmF0aW9uID0gMTAwMCAvIDYwXG5cbiAgcmFmID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICBpZihxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHZhciBfbm93ID0gbm93KClcbiAgICAgICAgLCBuZXh0ID0gTWF0aC5tYXgoMCwgZnJhbWVEdXJhdGlvbiAtIChfbm93IC0gbGFzdCkpXG4gICAgICBsYXN0ID0gbmV4dCArIF9ub3dcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjcCA9IHF1ZXVlLnNsaWNlKDApXG4gICAgICAgIC8vIENsZWFyIHF1ZXVlIGhlcmUgdG8gcHJldmVudFxuICAgICAgICAvLyBjYWxsYmFja3MgZnJvbSBhcHBlbmRpbmcgbGlzdGVuZXJzXG4gICAgICAgIC8vIHRvIHRoZSBjdXJyZW50IGZyYW1lJ3MgcXVldWVcbiAgICAgICAgcXVldWUubGVuZ3RoID0gMFxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY3AubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZighY3BbaV0uY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgIGNwW2ldLmNhbGxiYWNrKGxhc3QpXG4gICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgdGhyb3cgZSB9LCAwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgTWF0aC5yb3VuZChuZXh0KSlcbiAgICB9XG4gICAgcXVldWUucHVzaCh7XG4gICAgICBoYW5kbGU6ICsraWQsXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICBjYW5jZWxsZWQ6IGZhbHNlXG4gICAgfSlcbiAgICByZXR1cm4gaWRcbiAgfVxuXG4gIGNhZiA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYocXVldWVbaV0uaGFuZGxlID09PSBoYW5kbGUpIHtcbiAgICAgICAgcXVldWVbaV0uY2FuY2VsbGVkID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuKSB7XG4gIC8vIFdyYXAgaW4gYSBuZXcgZnVuY3Rpb24gdG8gcHJldmVudFxuICAvLyBgY2FuY2VsYCBwb3RlbnRpYWxseSBiZWluZyBhc3NpZ25lZFxuICAvLyB0byB0aGUgbmF0aXZlIHJBRiBmdW5jdGlvblxuICByZXR1cm4gcmFmLmNhbGwocm9vdCwgZm4pXG59XG5tb2R1bGUuZXhwb3J0cy5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgY2FmLmFwcGx5KHJvb3QsIGFyZ3VtZW50cylcbn1cbm1vZHVsZS5leHBvcnRzLnBvbHlmaWxsID0gZnVuY3Rpb24oKSB7XG4gIHJvb3QucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmFmXG4gIHJvb3QuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBjYWZcbn1cbiIsImNsYXNzIEJsb2IgZXh0ZW5kcyBUSFJFRS5PYmplY3QzRCB7XG5cblx0Y29uc3RydWN0b3IgKCB4LCB5ICkge1xuXHRcdHN1cGVyKCk7XG5cblx0XHR0aGlzLnBvc2l0aW9uLnggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB3aW5kb3cuaW5uZXJXaWR0aCk7XG5cdFx0dGhpcy5wb3NpdGlvbi55ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogd2luZG93LmlubmVySGVpZ2h0KTtcblxuXHRcdHRoaXMudmVsb2NpdHkgPSBuZXcgVEhSRUUuVmVjdG9yMyhNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpLCAwKTtcblxuXHRcdGNvbnN0IHNjYWxhciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpICsgMjtcblx0XHR0aGlzLnZlbG9jaXR5Lm11bHRpcGx5U2NhbGFyKHNjYWxhcik7XG5cblx0XHR0aGlzLnJhZGl1cyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQwKSArIDMwO1xuXHR9XG5cblx0dXBkYXRlICggdGltZSApIHtcblx0XHR0aGlzLnBvc2l0aW9uLmFkZCh0aGlzLnZlbG9jaXR5KTtcblxuXHRcdGlmICggdGhpcy5wb3NpdGlvbi54IDwgMCB8fCB0aGlzLnBvc2l0aW9uLnggPiB3aW5kb3cuaW5uZXJXaWR0aCApIHtcblx0XHRcdHRoaXMudmVsb2NpdHkueCAqPSAtMTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMucG9zaXRpb24ueSA8IDAgfHwgdGhpcy5wb3NpdGlvbi55ID4gd2luZG93LmlubmVySGVpZ2h0ICkge1xuXHRcdFx0dGhpcy52ZWxvY2l0eS55ICo9IC0xO1xuXHRcdH1cblxuXHRcdGNvbnN0IGRpc3RvcnNpb24gPSBNYXRoLnNpbih0aW1lKSAqIDAuMDU7XG5cblx0XHR0aGlzLnJhZGl1cyArPSBkaXN0b3JzaW9uO1xuXHR9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQmxvYjsiLCJpbXBvcnQgcmFmIGZyb20gJ3JhZic7XG5cbmltcG9ydCBCbG9iIGZyb20gJy4vQmxvYic7XG5cbmNvbnN0IGdsc2xpZnkgPSByZXF1aXJlKCdnbHNsaWZ5Jyk7XG5cbmNsYXNzIEFwcCB7XG5cblx0Y29uc3RydWN0b3IgKCkge1xuXHRcdHRoaXMuYmFja2dyb3VuZENvbG9yID0gMHgwMDAwMDA7XG5cdFx0XHRcblx0XHR0aGlzLnJlc2l6ZSA9IDo6dGhpcy5yZXNpemU7XG5cdFx0dGhpcy51cGRhdGUgPSA6OnRoaXMudXBkYXRlO1xuXHRcdFxuXHRcdHRoaXMuaW5pdCgpO1xuXHRcdHRoaXMuYmluZExpc3RlbmVycygpO1xuXHR9XG5cblx0aW5pdCAoKSB7XG5cdFx0Y29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xuXG5cdFx0dGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgY2FudmFzOiBjYW52YXMsIGFudGlhbGlhczogdHJ1ZSwgYWxwaGE6IGZhbHNlIH0pO1xuXHRcdHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcblx0XHR0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5iYWNrZ3JvdW5kQ29sb3IpO1xuXG4gICAgICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcblxuXHRcdHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSggd2luZG93LmlubmVyV2lkdGggKiAtMC41ICwgd2luZG93LmlubmVyV2lkdGggKiAwLjUsIHdpbmRvdy5pbm5lckhlaWdodCAqIDAuNSwgd2luZG93LmlubmVySGVpZ2h0ICogLSAwLjUsIDEsIDEwMDAgKTtcblx0XHR0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gNTA7XG5cdFx0dGhpcy5zY2VuZS5hZGQodGhpcy5jYW1lcmEpO1xuXG5cdFx0dGhpcy50aW1lID0gMC4wO1xuXG4gICAgICAgIHRoaXMuYWRkRWxlbWVudHMoKTtcblxuICAgICAgIFx0dGhpcy51cGRhdGUoKTtcblx0fVxuXG5cdGJpbmRMaXN0ZW5lcnMgKCkge1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZSk7XG5cdH1cblxuXHRhZGRFbGVtZW50cyAoKSB7XG5cdFx0dGhpcy5ibG9icyA9IFtdO1xuXG5cdFx0Y29uc3QgY2VudGVycyA9IFtdO1xuXHRcdGNvbnN0IHJhZGl1c2VzID0gW107XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAxNTsgaSsrICkge1xuXHRcdFx0Y29uc3QgYmxvYiA9IG5ldyBCbG9iKCk7XG5cdFx0XHRjZW50ZXJzLnB1c2goIG5ldyBUSFJFRS5WZWN0b3IzKGJsb2IucG9zaXRpb24ueCwgYmxvYi5wb3NpdGlvbi55LCAwKSk7XG5cdFx0XHRyYWRpdXNlcy5wdXNoKGJsb2IucmFkaXVzKTtcblxuXHRcdFx0dGhpcy5ibG9icy5wdXNoKGJsb2IpO1xuXHRcdH1cblxuXHRcdHRoaXMudW5pZm9ybXMgPSBbXTtcblx0XHR0aGlzLnVuaWZvcm1zWyd1UmFkaXVzZXMnXSA9IHsgdHlwZTogJ2Z2MScsIHZhbHVlOiByYWRpdXNlcyB9O1xuXHRcdHRoaXMudW5pZm9ybXNbJ3VDZW50ZXJzJ10gPSB7IHR5cGU6ICd2M3YnLCB2YWx1ZTogY2VudGVycyB9O1xuXG5cdFx0dGhpcy51bmlmb3Jtc1sndUNvbG9yJ10gPSB7IHR5cGU6ICd2MycsIHZhbHVlOiBuZXcgVEhSRUUuVmVjdG9yMygwLjU3LCAwLjI4LCAwKX07XG5cdFx0dGhpcy51bmlmb3Jtc1sndVRpbWUnXSA9IHsgdHlwZTogJ2YnLCB2YWx1ZTogdGhpcy50aW1lIH07XG5cdFx0dGhpcy51bmlmb3Jtc1sndVJlc29sdXRpb24nXSA9IHsgdHlwZTogJ3YyJywgdmFsdWU6IG5ldyBUSFJFRS5WZWN0b3IyKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpfTtcblxuXHRcdHRoaXMucGxhbmVHZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0LCAzMiApO1xuXHRcdHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuXHRcdFx0dmVydGV4U2hhZGVyOiBnbHNsaWZ5KCcuL3NoYWRlcnMvbWV0YWJhbGwudmVydC5nbHNsJyksXG4gICAgICAgICAgICBmcmFnbWVudFNoYWRlcjogZ2xzbGlmeSgnLi9zaGFkZXJzL21ldGFiYWxsLmZyYWcuZ2xzbCcpLFxuICAgICAgICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG5cdFx0fSlcblxuXHRcdHRoaXMucGxhbmUgPSBuZXcgVEhSRUUuTWVzaCggdGhpcy5wbGFuZUdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsICk7XG5cdFx0dGhpcy5zY2VuZS5hZGQodGhpcy5wbGFuZSk7XG5cdH1cblxuXHR1cGRhdGUgKCkge1xuXHRcdHRoaXMudGltZSArPSAwLjAxO1xuXG5cdFx0Y29uc3QgY2VudGVycyA9IFtdO1xuXHRcdGNvbnN0IHJhZGl1c2VzID0gW107XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCB0aGlzLmJsb2JzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0Y29uc3QgYmxvYiA9IHRoaXMuYmxvYnNbaV07XG5cdFx0XHRibG9iLnVwZGF0ZSh0aGlzLnRpbWUpO1xuXG5cdFx0XHRjZW50ZXJzLnB1c2goIG5ldyBUSFJFRS5WZWN0b3IzKGJsb2IucG9zaXRpb24ueCwgYmxvYi5wb3NpdGlvbi55LCAwKSk7XG5cdFx0XHRyYWRpdXNlcy5wdXNoKGJsb2IucmFkaXVzKTtcblx0XHR9XG5cblx0XHR0aGlzLnVuaWZvcm1zWyd1UmFkaXVzZXMnXS52YWx1ZSA9IHJhZGl1c2VzO1xuXHRcdHRoaXMudW5pZm9ybXNbJ3VDZW50ZXJzJ10udmFsdWUgPSBjZW50ZXJzO1xuXHRcdHRoaXMudW5pZm9ybXNbJ3VUaW1lJ10udmFsdWUgPSB0aGlzLnRpbWU7XG5cblx0XHR0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG5cblx0XHRyYWYodGhpcy51cGRhdGUpO1xuXHR9XG5cblx0cmVzaXplICgpIHtcblx0XHR0aGlzLmNhbWVyYS5hc3BlY3QgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcblx0XHR0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cblx0XHR0aGlzLnJlbmRlcmVyLnNldFNpemUoIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQgKTtcblx0fVxuXG59XG5cbm5ldyBBcHAoKTsiXX0=
